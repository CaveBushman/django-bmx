{% extends 'pages/base.html' %} {% block title %} Přihlášení na závody
{% endblock title %} {% load static %} {% block content %}

<h1 class="text-4xl text-black-900 text-center mt-5 py-3">Přihlášení na {{event.name}}</h1>
<br /><br />

<div class = "container">
  <h5>Datum konání: <b>{{event.date}}</b></h5>
</div>
<br>
<div class = "container">
  <div class="container">
    <div class="row">
      <div class="col-sm">
        <input
          class="form-control"
          type="text"
          placeholder="Napiš příjmení jezdce"
          aria-label="default input example"
          onkeyup="searchByLastName()"
          id="inputLastName"
        />
      </div>
      <div class="col-sm"></div>
      <div class="col-sm">
        <input
          class="form-control"
          type="text"
          placeholder="Napiš klub"
          aria-label="default input example"
          onkeyup="searchByClub()"
          id="inputClub"
        />
      </div>
    </div>
  </div>
  <br />
  <form method="POST">
    {% csrf_token %}

    <table class="table table-hover align-middle" id="myTable">
      <thead>
        <tr>
          <th scope="col">Start.č.</th>
          <th scope="col"></th>
          <th scope="col">Příjmení</th>
          <th scope="col">Jméno</th>
          <th scope="col">Klub</th>
          <th scope="col">UCI ID</th>
          <th scope="col">20"</th>
          <th scope="col">Cruiser</th>
        </tr>
      </thead>
      <tbody>
        {% for rider in riders %}
        <tr>
          <td scope="row">{{rider.plate}}</td>
          <td><img class="avatar img-fluid rounded-circle" src="{{rider.photo.url}}" alt="" sizes="6px" srcset=""
                                     style="width: 2rem; height: 2rem;"></td>
          <td>{{rider.last_name}}</td>
          <td>{{rider.first_name}}</td>
          <td class = "text-sm">{{rider.club}}</td>
          <td class = "text-sm">{{rider.uci_id}}</td>

          {% if 'registered' in rider.class_20 %}
          <td class = "table-success text-sm">
            <input
              class="form-check-input"
              type="checkbox"
              value="{{rider.uci_id}}"
              id="checkbox_20"
              name="checkbox_20"
              checked
              disabled
            />
            {{rider.class_20|slice:":-10" }}
          </td>
          {% else %}
          <td class = "text-sm">
            <input
              class="form-check-input"
              type="checkbox"
              value="{{rider.uci_id}}"
              id="checkbox_20"
              name="checkbox_20"
            />
            {{rider.class_20}}
          </td>
          {% endif %} {% if 'registered' in rider.class_24 %}
          <td class = "table-success text-sm" >
            <input
              class="form-check-input"
              type="checkbox"
              value="{{rider.uci_id}}"
              id="checkbox_24"
              name="checkbox_24"
              checked
              disabled
            />{{rider.class_24|slice:":-10" }}
          </td>
          {% else %}
          <td class = "text-sm">
            <input
              class="form-check-input"
              type="checkbox"
              value="{{rider.uci_id}}"
              id="checkbox_24"
              name="checkbox_24"
            />
            {{rider.class_24}}
          </td>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <a href="#" class="arrow" id="to-top"><i class="bi bi-arrow-up-square-fill"></i></a>
    <button type="submit" class="arrow bg-primary text-light" id="to-bottom">
      Přejít ke kontrole přihlášky
    </button>
  </form>
</div>
<script src="{% static 'js/entry.js' %}"></script>
<script src="{% static 'js/arrow.js' %}"></script>
{% endblock content %}
