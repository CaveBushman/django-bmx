{% extends 'base.html' %}
{% block title %} Detail jezdce {% endblock title %}
{% block content %}
{% load static %}

<!-- <img class = "rider-detail-background-image" src="{% static 'images/homepage/bg2.jpg' %}" alt=""> -->
<div class="container rider-detail-container dark:bg-gray-800">
    <div class="d-flex flex-row bd-highlight  mb-3 justify-content-center">
        <div class="p-2 bd-highlight align-self-end">
            {% if rider.is_20 %} 
                {% if rider.plate_color_20 == 'blue' %}
                    <div class="plate small"
                    style="background-color: darkblue; color: white">
                    {{rider.plate}}
                </div>
                {% elif rider.plate_color_20 == 'gray'%}
                <div class="plate small" style="background-color: gray; color: white">
                    {{rider.plate}}
                </div>
                {% elif rider.plate_color_20 == 'yellow'%}
                <div class="plate small" style="background-color: yellow; color: black">
                    {{rider.plate}}
                </div>
                {% elif rider.plate_color_20 == 'black'%}
                <div class="plate small" style="background-color: black; color: white">
                    {{rider.plate}}
                </div>
                {% elif rider.plate_color_20 == 'white'%}
                <div class="plate small"
                    style="background-color: white; color: black; border: 1px black solid">
                    {{rider.plate}}
                </div>
                {% endif %}
                {% endif %} 
        </div>
        <div class="p-2 bd-highlight">
            <div class="">
                <img src="{{rider.photo.url}}" class="w-48 h-48 md:w-80 md:h-80 rounded-full mx-auto"/>
            </div>
        </div>
        <div class="p-2 bd-highlight align-self-end">
            {% if rider.is_24%}
                <div class="plate small red">{{rider.plate}}</div>
            {% endif %}
        </div>
    </div>

    <h1 class="display-4 text-center dark:text-purple-300" style="margin-bottom: 3rem">
        {{ rider.first_name|upper}} {{ rider.last_name|upper}}
    </h1>
    {% if rider.is_in_representation %}
        <div class="d-flex flex-row bd-highlight mb-3 ">
            <div class="p-0 bd-highlight dark:text-gray-200" style="margin-bottom: 1rem;"><h5><span
                    class="repre">Člen národní reprezentace</span></h5></div>
        </div>
    {% endif %}
    {% if rider.is_in_talent_team %}
        <div class="d-flex flex-row bd-highlight mb-3 ">
            <div class="p-0 bd-highlight" style="margin-bottom: 1rem;"><h5><span
                    class="repre">Člen národního talent teamu</span></h5></div>
        </div>
    {% endif %}

    <div class="container dark:text-gray-200">
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <h5>UCI ID: <b>{{rider.uci_id}}</b></h5>
                </div>
                <div class="col-sm">
                    <h5>Klub: <b>{{ rider.club }}</b></h5>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-sm mt-2">
                    <h5>Transpondér pro 20": <b>
                        {% if rider.transponder_20 == "nan" %}
                            nemá přidělen
                        {% else %}
                            {{rider.transponder_20}}
                        {% endif%}
                    </b></h5>
                </div>
                <div class="col-sm mt-2">
                    <h5>Transpondér pro 24": <b>
                        {% if rider.transponder_24 == "nan" %}
                            nemá přidělen
                        {% else %}
                            {{rider.transponder_24}}
                        {% endif%}
                    </b></h5>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-sm mt-2">
                    <h5>Pořadí v rankingu v <b>{{rider.class_20}}</b> (20"): <b>
                        {% if rider.ranking_20 == None or rider.ranking_20 == "0" %}
                        nejezdí/neboduje
                        {% else %}
                        {{rider.ranking_20}}. místo
                        {% endif %}
                    </b></h5>
                </div>
                <div class="col-sm mt-2">
                    <h5>Pořadí v rankingu v <b>{{rider.class_24}}</b> (24"): <b>
                        {% if rider.ranking_24 == None or rider.ranking_24 == "0" %}
                        nejezdí/neboduje
                        {% else %}
                        {{rider.ranking_24}}. místo
                        {% endif %}
                    </b></h5>
                </div>
            </div>
        </div>
    </div>
</div>

<h3 class="display-6 text-center rider-detail-header dark:text-purple-300" style="margin-bottom: 2rem">
    Umístění za poslední rok
</h3>
{% if results %}
<div class="container">
    <table class="table" style="padding-left: 5rem; padding-right: 5rem; margin-bottom: 3rem">
        <thead>
            <tr>
                <th scope="col" class="dark:text-gray-200">Datum</th>
                <th scope="col" class="dark:text-gray-200">Název závodu</th>
                <th scope="col" class="dark:text-gray-200">Pořadatel</th>
                <th scope="col" class="dark:text-gray-200">Typ závodu</th>
                <th scope="col" class="dark:text-gray-200">Kategorie</th>
                <th scope="col" class="dark:text-gray-200">Umístění</th>
                <th scope="col" class="dark:text-gray-200">Počet bodů</th>
            </tr>
        </thead>
        <tbody>
        {% for result in results %}
        {% if result.marked_20 %}
        <tr class="bg-purple-400 text-white dark:bg-purple-900" >
        {% elif result.marked_24 %}
        <tr class="bg-blue-400 text-white dark:bg-blue-800" >
        {% else %}
        <tr>
        {% endif %}
            <th scope="row" class="dark:text-gray-200">{{ result.date }}</th>
            <td class="dark:text-gray-200">{{ result.name }}</td>
            <td class="dark:text-gray-200">{{ result.organizer|upper }}</td>
            <td class="dark:text-gray-200">{{ result.event_type }}</td>
            <td class="dark:text-gray-200">{{ result.category }}</td>
            <td class="dark:text-gray-200">{{ result.place }}. místo</td>
            <td class="dark:text-gray-200"> {{ result.points }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>

{% else %}
    <h5 style = "text-align: center" class="dark:text-gray-200">Jezdec/jezdkyně nejel/a za poslední rok žádný závod.</h5>
{% endif %}
</div>
{% endblock content %}
