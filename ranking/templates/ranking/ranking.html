{% extends 'pages/base.html' %} {% block title %} Ranking {% endblock title %}
{% block content %}

<h1 class="text-4xl text-black-900 text-center mt-5 py-3">Národní ranking</h1>

<div class="container">

    <p class="text-justify mt-3">Do národního rankingu jsou započítávány výsledky z Mistrovství České republiky
        jednotlivců, 8 nejlepších výsledků
        Českého poháru, 6 nejlepších výsledků České ligy a Moravské ligy (dohromady), 4 nejlepších výsledků volných
        závodů. Mistrovství České republiky družstev se do národního rankingu nezapočítává a všichni jezdci z něj získávají 0
        bodů. Do rankingu se započítávájí závody za posledních 365 dní a jezdci si body přenáší na konci roku sebou mezi
        kategoriemi.</p>

    <form method="POST">
        {% csrf_token %}

        <div class="container">
            <div class="row" style = "margin-top: 2rem; margin-bottom: 2rem">
                <div class="col-sm">
                    <select class="form-select" aria-label="Default select example" name="categoryInput">
                        <option selected>Vyber kategorii:</option>
                        {% for category in categories %}
                        <option value="{{category}}">{{category}}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-sm">
                    <button type="submit" class="btn btn-success" name="submit">Zobraz ranking</button>
                </div>

            </div>
        </div>
    </form>

    <h1 class="text-center main-header text-4xl" style="margin-top: 4rem">{{category | upper}}</h1>
    <br>
    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Příjmení</th>
            <th scope="col">Jméno</th>
            <th scope="col">Klub</th>
            <th scope="col">Počet bodů</th>
        </tr>
        </thead>
        <tbody>
        {% for result in results %}
        <tr>
            {% if cruiser %}
            <th scope="row">{{result.ranking_24}}.</th>
            {% else %}
            <th scope="row">{{result.ranking_20}}.</th>
            {% endif %}

            <td><a href="{% url 'rider:detail' result.id %}" style="text-decoration: none; color:black">{{result.last_name}}<a></a></td>
            <td>{{result.first_name}}</td>
            <td>{{result.club}}</td>
            {% if cruiser %}
            <td>{{result.points_24}}</td>
            {% else %}
            <td>{{result.points_20}}</td>
            {% endif %}
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock content %}
